$outerDiameter: 25vh
$innerDiameter: 100vh
// 动画3：shapeInnerWrapper绕圆
$minBlur: 1.0938rem
$maxBlur: 1.6146rem
@mixin filterBlur($blur)
  filter: blur($blur)
$test: test
.centerImg
  width: 100%
  height: 100%
@keyframes shapeOuterWrapperAnimation
  from
    transform: translate(-50%,-50%) rotate(0)
  to
    transform: translate(-50%,-50%) rotate(360deg)
// @keyframes shapeInnerWrapperAnimation
//   from
//     transform: translate(-50%,-50%) translateY(translateY(calc(-1 * $outerDiameter / 2))) rotate(0)
//   to
//     transform: translate(-50%,-50%) translateY(translateY(calc(-1 * $outerDiameter / 2))) rotate(360deg)
// 等同1shapeWrapper整体旋转360°
// @keyframes shapeInnerWrapperAnimation
//   from
//     transform: translate(-50%,-50%) rotateZ(0)
//   to
//     transform: translate(-50%,-50%) rotateZ(360deg)
// 等同2shapeInnerWrapper绕圆旋转360°
// @keyframes shapeInnerWrapperAnimation
//   from
//     transform: translate(-50%,-50%) rotateZ(0) translateX(calc($outerDiameter / 2))
//   to
//     transform: translate(-50%,-50%) rotateZ(360deg) translateX(calc($outerDiameter / 2))
// 动画3：shapeInnerWrapper绕圆
@keyframes shapeInnerWrapperAnimation
  from
    transform: translate(-50%,-50%) rotateZ(0) translateX(calc($outerDiameter / 2)) rotateZ(0)
  to
    transform: translate(-50%,-50%) rotateZ(360deg) translateX(calc($outerDiameter / 2)) rotateZ(-360deg)
.bgAnimation
  position: absolute
  z-index: -1
  width: 100%
  height: 100%
  display: flex
  justify-content: center
  align-items: center
  @if ($test == prod)
    &:before
      position: absolute
      content: ""
      width: 100%
      height: 100%
      z-index: 5
      background: rgba(255, 255, 255, 0.6)
      backdrop-filter: blur(16px)
  .shapeOuterWrapper
    position: absolute
    z-index: -1
    border-radius: 50%
    top: 50%
    left: 50%
    transform: translate(-50%,-50%)
    width: $outerDiameter
    height: $outerDiameter
    // transform-origin: 50% 50%
    // animation: shapeOuterWrapperAnimation 60s linear 0s infinite
    transform-style: preserve-3d
    @if($test == test)
      border: 10px solid blue
  .shapeInnerWrapper
    position: absolute
    // top: 0
    // left: 0
    // right: 0
    // bottom: 0
    // margin: auto
    width: $innerDiameter
    height: $innerDiameter
    // display: flex
    // justify-content: center
    // align-items: center
    border-radius: 50%
    top: 50%
    left: 50%
    // transform: translate(-50%,-50%) translateY(calc(-1 * $outerDiameter / 2))
    transform: translate(-50%,-50%)
    animation: shapeInnerWrapperAnimation 6s linear 0s infinite
    @if($test == test)
      border: 10px solid red
  .layer1,.layer2,.layer3,.layer4
    position: absolute
    top: 50%
    left: 50%
    transform: translate(-50%,-50%)
    // border-radius: 50%
    // transform-style: preserve-3d
    // @if($test == test)
    //   border: 3px solid transparent
    img
      @extend .centerImg

  .layer1
    z-index: 1
    width: 4.0052rem
    height: 3.9635rem
    top: 0
    // @if($test == test)
    //   border-color: cyan
    img
      @if($test == prod)
        @include filterBlur($maxBlur)
      // @include shapeAnimation(layer1Animation)

      // animation: layer1Animation 20s linear 3s infinite
  .layer2
    z-index: 2
    width: 8.9688rem
    height: 6.2708rem
    // width: $circleDiameterMedium
    // height: $circleDiameterMedium
    // @if($test == test)
    //   border-color: yellow
    // transform: rotateZ(60deg) rotateY(75deg)
    img
      @if($test == prod)
        @include filterBlur($minBlur)
      // @include shapeAnimation(layer2Animation)
      // animation: layer2Animation 20s linear 5s infinite
  .layer3
    z-index: 3
    left: 0
    width: 2.9635rem
    height: 5.5469rem
    img
      @if($test == prod)
        @include filterBlur($minBlur)
      // @include shapeAnimation(layer3Animation)
  .layer4
    z-index: 4
    left: 100%
    width: 2.3177rem
    height: 4.5156rem
    // transform: rotateZ(60deg) rotateY(75deg)
    // @if($test == test)
    //   border-color: skyblue
    img
      transform: rotate(-13.27deg)
      @if($test == prod)
        @include filterBlur($minBlur)

      // @include shapeAnimation(layer4Animation)
      // animation: layer4Animation 20s linear 5s infinite
